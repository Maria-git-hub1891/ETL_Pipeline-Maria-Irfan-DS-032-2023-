import requests
import json

# Replace with your actual OpenWeatherMap API key
API_KEY = "26c65e9a3738237235a77dafd7a50b7c"
cities = ['Karachi', 'Lahore', 'Islamabad', 'Quetta', 'Peshawar']

weather_data = {}

for city in cities:
    url = f'http://api.openweathermap.org/data/2.5/weather?q={city}&appid={API_KEY}'
    response = requests.get(url)
    data = response.json()
    weather_data[city] = data

# Save the data to a JSON file
with open('weather_data.json', 'w') as json_file:
    json.dump(weather_data, json_file, indent=4)

print("Weather data saved to weather_data.json")

# Load the JSON data from the file
with open('weather_data.json', 'r') as file:
    weather_data = json.load(file)

# Print the weather data to the console
print(json.dumps(weather_data, indent=4))  # Pretty print with indent for readability
